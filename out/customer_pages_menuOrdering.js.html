<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: customer_pages/menuOrdering.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: customer_pages/menuOrdering.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react";
import './menuOrderingStylesheet.css';
import { useState, useEffect } from "react";
import LogoutButton from "../logout";
import { confirmItemPopUp } from './popups/confirmItem';
import { mealItems, entreeItems, sideItems, beverageItems, saladItems, treatItems, sauceItems, dressingItems, seasonalItems } from "../productsAndIngredients.js";
import {placeOrder} from "../employee_pages/managerLandingFunctions";

/**
 * This function is used to hold item objects inside of the cart.
 * @param id This parameter is deprecated but initially was used to id every item, like a Radix Sort.
 * @param name The name contains the name of the product in question.
 * @param quantity The number of items inside of the cart.
 * @param modifications Tracks the modifications made to the menu item.
 * @returns {JSX.Element}
 * @constructor
 */

function CartItem({ id, name, quantity, modifications }) {
    if (name === "") {
        name = "N/A";
    }

    console.log(modifications);

    let modificationsDisplay;
    if (modifications.length > 0) {
        modificationsDisplay = modifications.map((modification, index) => {
            if (modification.changes.length > 0) {
                return (
                    &lt;div key={index}>
                        {modification.type} {modification.changes.toString()}
                        &lt;br >&lt;/br>
                    &lt;/div>
                );
            } else {
                return null;
            }
        });
    } else {
        modificationsDisplay = null;
    }

    return (
        &lt;div className="" role="alert">
            &lt;div>
                x{quantity} {name}
            &lt;/div>
            {modificationsDisplay &amp;&amp; (
                &lt;div>
                    {modificationsDisplay}
                &lt;/div>
            )}
        &lt;/div>
    );
}

/**
 * This template contains the code that drives our frontend for our pop-ups.
 * Pop-up are added and generated via a DOM-tree, and this is handled through event listeners
 * and various other elements that help us manage multiple autogenerated features at once.
 * @returns {JSX.Element}
 * @constructor
 */
function Template() {

    const [displayedItems, setDisplayedItems] = useState([]);
    const [selectedCategory, setSelectedCategory] = useState("Meals");

    // Use local storage to keep cart items on page refresh
    useEffect(() => {
        // Get the cart items from localStorage
        const storedCartItems = localStorage.getItem('cartItems');
        const storedMenuItems = localStorage.getItem('menuItems');

        // If cart items are stored in localStorage, update the displayedItems state
        if (storedCartItems) {
            setDisplayedItems(JSON.parse(storedCartItems));
        }
        if (storedMenuItems) {
            setSelectedCategory(storedMenuItems);
        }
    }, []);

    const handleAddItem = (item) => {

        // Update the cart
        setDisplayedItems([...displayedItems, { ...item, id: displayedItems.length + 1 }]);

        // Update local storage with cart item
        localStorage.setItem('cartItems', JSON.stringify([...displayedItems, { ...item, id: displayedItems.length + 1 }]));
    };
    /**
     * This handles the removing of items from the cart via an index that is assigned to every item like an id.
     * An item is given into the function and an index is accessed that locates, and deletes said object from the cart array.
     * @param item This parameter represents a single item sent into the function meant to remove it from the cart array.
     */
    const handleRemoveItem = (item) => {
        // Find the index of the item to be removed
        const index = displayedItems.findIndex(cartItem => cartItem.id === item.id);

        // Remove the item from the displayedItems array using splice
        const updatedDisplayedItems = [...displayedItems];
        updatedDisplayedItems.splice(index, 1);

        // Update the cart
        setDisplayedItems(updatedDisplayedItems);

        // Store the updated displayedItems in localStorage
        localStorage.setItem('cartItems', JSON.stringify(updatedDisplayedItems));
    };
    /**
     * Deprecated function, this used to handle modifications of items but has been replaced with a function that auto-generates
     * div boxes inside completeOrder.js.
     * @param item This parameter represents a single item sent into the function meant to remove it from the cart array.
     * */
    const handleCustomizeIngredients = (item) => {
        const updatedItems = displayedItems.map(cartItem => {
            if (cartItem.id === item.id) {
                return { ...cartItem, modifications: [...item.modifications] };
            }
            return cartItem;
        });
        setDisplayedItems(updatedItems);
        localStorage.setItem('cartItems', JSON.stringify(updatedItems));
    };

    const handlePlaceOrderButtonClick = (cart) => {
        let item = cart[0];
        for (let i = 0; i &lt; 4; i++) {
            item = cart[i];
            //console.log(item.modifications);
        }
        placeOrder(cart);
    }

    /**
     * This function is used to render all menu items based on the descriptions given in the
     * productsAndIngredients.js file.
     * @returns {*} Nothing is returned, instead the frontend is updated to reflect the changes that the user makes.
     */
    const renderMenuItems = () => {

        console.log(selectedCategory);
        let items = [];
        switch (selectedCategory) { // Update the rendered items based on the current menu
            case 'Meals':
                items = mealItems;
                break;
            case 'Entrees':
                items = entreeItems;
                break;
            case 'Sides':
                items = sideItems;
                break;
            case 'Beverages':
                items = beverageItems;
                break;
            case 'Salads':
                items = saladItems;
                break;
            case 'Treats':
                items = treatItems;
                break;
            case 'Sauces':
                items = sauceItems;
                break;
            case 'Dressings':
                items = dressingItems;
                break;
            case 'Seasonals':
                items = seasonalItems;
                break;
            // Add other cases for different menus if needed
            default:
                items = mealItems;
                break;
        }

        return items.map((item, index) => (
            &lt;button
                key={index}
                className="itemTile rounded-lg flex flex-col justify-center items-center"
                onClick={() => { confirmItemPopUp(item, handleAddItem) }}
            >
                &lt;h1 className="tile-marker text-black text-4vmin">{item.name}&lt;/h1>
                &lt;img className="foodBox left-0 bottom-0" src={require(`../${item.image}`)} alt="chicken sandwich" />
                &lt;h2 className="text-black text-3vmin">${item.price}&lt;/h2>
            &lt;/button>
        ));
    };
    /**
     * Selects the category based off of the localStorage component, it is used to switch between
     * the different menu options on the left sidebar.
     * @param category
     */
    // Handler for button click event
    const handleCategoryClick = (category) => {
        setSelectedCategory(category);
        localStorage.setItem('menuItems', category);
        renderMenuItems();
    };

    return(

        &lt;div>

            &lt;div className="topbar h-[10vh] text-center content-center text-[3vw] text-white">
                Welcome to Chick-fil-A!
                &lt;div className="float-right mr-4 mt-2">
                    &lt;LogoutButton/>
                &lt;/div>
            &lt;/div>


            &lt;div className="sidebar">
                {/* START SIDEBAR */}
                {['Meals', 'Entrees', 'Sides', 'Beverages', 'Salads', 'Treats', 'Sauces', 'Dressings', 'Seasonals'].map((label, index) => (
                    &lt;button
                        key={index}
                        type="button"
                        className={`h-[10vh] w-[15vw] bg-primary pt-2.5 pb-2.5 text-[2.1vw] font-medium leading-normal text-black border border-solid border-gray-200 shadow-sm transition duration-150 ease-in-out hover:shadow-md focus:outline-none focus:ring-0 active:shadow-lg`}
                        onClick={() => handleCategoryClick(label)}
                    >
                        {label}
                    &lt;/button>
                ))}
            &lt;/div>
            {/*END SIDEBAR                                                                    */}

            {/*START MENU ITEMS                                                                    */}
            &lt;div className="menuBlocks overflow-y-scroll">
                &lt;div className="container m-auto grid grid-cols-3 gap-[2.5vmin]">
                    {renderMenuItems()}
                &lt;/div>
            &lt;/div>
            {/*END MENU ITEMS                                                                    */}


            &lt;div className="cart grow rounded-md overflow-y-scroll" style={{ flexDirection: "space-between" }}>
                &lt;div className="cart-header text-center font-size-4 text-black">
                    Your Cart
                &lt;/div>
                &lt;div className="cart-items text-black " style={{ flexGrow: 1 }}>
                    {displayedItems.map((item, index) => (
                        &lt;div className="h-16 w-64 overflow-y-scroll" key={index}>
                            &lt;CartItem
                                name={item.name}
                                quantity={item.quantity}
                                modifications={item.modifications}
                            />
                            &lt;button
                                onClick={() => handleRemoveItem(item)}
                                className="absolute left-[15vw] text-red-700 max-h-1"
                            >
                                X
                            &lt;/button>
                            &lt;button onClick={() => handlePlaceOrderButtonClick(displayedItems)} className="justify-center bg-teal-400 absolute bottom-[5vh] right-[5vw]">
                                Checkout
                            &lt;/button>
                        &lt;/div>
                    ))}
                &lt;/div>
                &lt;div className="cart-pricing text-black">
                    &lt;div>Subtotal: {}&lt;/div>
                    &lt;div>Tax: {}&lt;/div>
                    &lt;div>Total: {}&lt;/div>
                &lt;/div>
                &amp;nbsp;
            &lt;/div>

        &lt;/div>
    )
}
export default Template;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CartItem.html">CartItem</a></li><li><a href="CompleteOrder.html">CompleteOrder</a></li><li><a href="EmployeeLogin.html">EmployeeLogin</a></li><li><a href="LandingPage.html">LandingPage</a></li><li><a href="Login.html">Login</a></li><li><a href="PageRedirection.html">PageRedirection</a></li><li><a href="Template.html">Template</a></li></ul><h3>Global</h3><ul><li><a href="global.html#MyComponent">MyComponent</a></li><li><a href="global.html#addInventory">addInventory</a></li><li><a href="global.html#addMenu">addMenu</a></li><li><a href="global.html#beverageItems">beverageItems</a></li><li><a href="global.html#commonReport">commonReport</a></li><li><a href="global.html#confirmItemPopUp">confirmItemPopUp</a></li><li><a href="global.html#createPopup">createPopup</a></li><li><a href="global.html#disableButtons">disableButtons</a></li><li><a href="global.html#dressingItems">dressingItems</a></li><li><a href="global.html#enableButtons">enableButtons</a></li><li><a href="global.html#entreeItems">entreeItems</a></li><li><a href="global.html#handleAddInventoryButtonClick">handleAddInventoryButtonClick</a></li><li><a href="global.html#handleAddMenuButtonClick">handleAddMenuButtonClick</a></li><li><a href="global.html#handleCommonReportButtonClick">handleCommonReportButtonClick</a></li><li><a href="global.html#handleExcessReportButtonClick">handleExcessReportButtonClick</a></li><li><a href="global.html#handleRemoveInventoryButtonClick">handleRemoveInventoryButtonClick</a></li><li><a href="global.html#handleRemoveMenuButtonClick">handleRemoveMenuButtonClick</a></li><li><a href="global.html#handleRestockInventoryButtonClick">handleRestockInventoryButtonClick</a></li><li><a href="global.html#handleRestockReportButtonClick">handleRestockReportButtonClick</a></li><li><a href="global.html#handleSalesReportButtonClick">handleSalesReportButtonClick</a></li><li><a href="global.html#handleUpdateMenuButtonClick">handleUpdateMenuButtonClick</a></li><li><a href="global.html#handleViewInventoryButtonClick">handleViewInventoryButtonClick</a></li><li><a href="global.html#handleViewMenuButtonClick">handleViewMenuButtonClick</a></li><li><a href="global.html#handleXZReportButtonClick">handleXZReportButtonClick</a></li><li><a href="global.html#managerLanding">managerLanding</a></li><li><a href="global.html#mealItems">mealItems</a></li><li><a href="global.html#removeInventory">removeInventory</a></li><li><a href="global.html#removeMenu">removeMenu</a></li><li><a href="global.html#restockInventory">restockInventory</a></li><li><a href="global.html#restockReport">restockReport</a></li><li><a href="global.html#rows">rows</a></li><li><a href="global.html#saladItems">saladItems</a></li><li><a href="global.html#salesReport">salesReport</a></li><li><a href="global.html#sauceItems">sauceItems</a></li><li><a href="global.html#sideItems">sideItems</a></li><li><a href="global.html#treatItems">treatItems</a></li><li><a href="global.html#updateMenu">updateMenu</a></li><li><a href="global.html#viewInventory">viewInventory</a></li><li><a href="global.html#viewMenu">viewMenu</a></li><li><a href="global.html#viewXZ">viewXZ</a></li><li><a href="global.html#xzReport">xzReport</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed May 03 2023 00:02:56 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
